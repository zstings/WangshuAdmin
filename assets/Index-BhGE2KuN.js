import{i as e,n as t,r as n,t as r}from"./css-BgVIvWCl.js";import{Ar as i,Wr as a,Xr as o,_i as s,a as c,c as l,cr as u,dr as d,f,ft as p,gr as m,hr as h,mr as g,mt as _,or as v,pr as y,rr as b,t as x,ti as S,u as C,v as w}from"./index-SSTIQU5n.js";var T={class:`fixed top-1/2 left-1/2 h-fit w-[500px] -translate-x-1/2 -translate-y-1/2 rounded-2xl bg-white p-8`},E=x(m({__name:`Index`,setup(s){localStorage.removeItem(`token`);let l=o(!0),m=C(),x=o({username:``,password:``});if(l.value&&localStorage.getItem(`loginInfo`)){let e=JSON.parse(localStorage.getItem(`loginInfo`)||`{}`);Object.assign(x.value,e)}let E=async()=>{if(!x.value.username){f.error(`请输入账号`);return}if(!x.value.password){f.error(`请输入密码`);return}l.value&&localStorage.setItem(`loginInfo`,JSON.stringify(x.value)),c(x.value).then(e=>{localStorage.setItem(`token`,e.token),m.push({name:m.currentRoute.value.query.redirect||`home`})})},D=()=>{l.value||localStorage.removeItem(`loginInfo`)};return(o,s)=>{let c=e,f=t,m=n,C=w,O=r;return i(),d(v,null,[u(`section`,T,[s[5]||=u(`h1`,{class:`h1 mb-10 w-full text-left text-2xl font-medium`},`登录`,-1),h(O,{model:x.value,"label-width":`auto`,class:`w-full`,size:`large`},{default:a(()=>[h(f,{label:``},{default:a(()=>[h(c,{modelValue:x.value.username,"onUpdate:modelValue":s[0]||=e=>x.value.username=e,clearable:``,"prefix-icon":S(_),placeholder:`请输入账号`},null,8,[`modelValue`,`prefix-icon`])]),_:1}),h(f,{label:``},{default:a(()=>[h(c,{modelValue:x.value.password,"onUpdate:modelValue":s[1]||=e=>x.value.password=e,clearable:``,"show-password":``,"prefix-icon":S(p),type:`password`,placeholder:`请输入密码`,onKeyup:b(E,[`enter`])},null,8,[`modelValue`,`prefix-icon`])]),_:1}),h(f,{label:``},{default:a(()=>[h(m,{modelValue:l.value,"onUpdate:modelValue":s[2]||=e=>l.value=e,name:`type`,onChange:D},{default:a(()=>[...s[3]||=[g(` 记住密码 `,-1)]]),_:1},8,[`modelValue`])]),_:1}),h(f,null,{default:a(()=>[h(C,{type:`primary`,class:`w-full`,onClick:E},{default:a(()=>[...s[4]||=[g(`登录`,-1)]]),_:1})]),_:1})]),_:1},8,[`model`])]),s[6]||=y(`<div class="logo-bg fixed top-0 left-0 h-full w-full" data-v-6ea3646e></div><div class="fixed top-[2vh] left-[1vw] flex items-center" data-v-6ea3646e><div class="w-[30px]" data-v-6ea3646e><img src="`+new URL(`../logo.svg`,import.meta.url).href+`" alt="" data-v-6ea3646e></div><span class="ml-2" data-v-6ea3646e>WangshuAdmin</span></div>`,2)],64)}}}),[[`__scopeId`,`data-v-6ea3646e`]]);export{E as default};