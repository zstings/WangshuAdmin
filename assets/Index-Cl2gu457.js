import{a as e,i as t,n,o as r,r as i,t as a}from"./css-C27jGHvx.js";import{i as o,n as s}from"./css-BgVIvWCl.js";import{a as c,i as l,n as u,r as d,t as f}from"./company-DD7Hzw26.js";import{Ar as p,Wr as m,Xr as h,Yr as g,_i as _,cr as v,ct as y,gr as b,hr as x,lr as S,mi as C,mr as w,ti as T,v as E,yr as D}from"./index-SSTIQU5n.js";var O={class:`search-right-btns`},k={class:`flex-center`},A={class:`whitespace-break-spaces`},j=b({__name:`Index`,setup(_){let b=h(),j=h({name:``}),M=g([{key:`name`,type:`el-input`,label:`企业名称`}]);function N(e={}){let n=g(t({name:``,remark:``,id:``},e));a({title:`新增企业`,formModel:n,content:()=>[D(s,{label:`企业名称`,prop:`name`,rules:[{required:!0,message:`请输入企业名称`,trigger:[`blur`]}]},()=>[D(o,{modelValue:n.name,"onUpdate:modelValue":e=>n.name=e})]),D(s,{label:`备注`},()=>[D(o,{type:`textarea`,modelValue:n.remark,"onUpdate:modelValue":e=>n.remark=e})])],okBefore:async()=>{await f(n,{showOKMsg:!0}).then(()=>{b.value?.getData()})}})}function P(t){e.confirm(`确认删除企业[${t.companyName}]吗？`,`提示`,{confirmButtonText:`确定`,cancelButtonText:`取消`,type:`warning`}).then(()=>{u(t.id,{showOKMsg:!0}).then(()=>{b.value?.getData()})})}function F(e={}){let n=g(t({name:``,id:``},e));a({title:`修改企业名称`,formModel:n,content:()=>[D(s,{label:`企业名称`,prop:`name`,rules:[{required:!0,message:`请输入企业名称`,trigger:[`blur`]}]},()=>[D(o,{modelValue:n.name,"onUpdate:modelValue":e=>n.name=e})])],okBefore:async()=>{await l(n,{showOKMsg:!0}).then(()=>{e.name=n.name})}})}return(e,t)=>{let a=E,o=c,s=r,l=n;return p(),S(l,{ref_key:`appTable`,ref:b,modelValue:j.value,"onUpdate:modelValue":t[1]||=e=>j.value=e,"search-config":M,"table-data-api":T(d),okey:`userManagement`},{"search-right":m(()=>[v(`div`,O,[x(a,{type:`primary`,onClick:t[0]||=e=>N()},{default:m(()=>[...t[2]||=[w(`新增企业`,-1)]]),_:1})])]),"table-column":m(()=>[x(s,{label:`企业名称`,align:`center`},{default:m(({row:e})=>[v(`div`,k,[v(`span`,null,C(e.name),1),x(o,{icon:T(y),tip:`修改企业名称`,onClick:t=>F(e)},null,8,[`icon`,`onClick`])])]),_:1}),x(s,{label:`备注`,align:`center`},{default:m(({row:e})=>[v(`span`,A,C(e.remark||`--`),1)]),_:1}),x(s,{label:`创建时间`,align:`center`},{default:m(({row:e})=>[w(C(T(i)(e.createAt)),1)]),_:1}),x(s,{label:`更新时间`,align:`center`},{default:m(({row:e})=>[w(C(e.updateAt?T(i)(e.updateAt):`--`),1)]),_:1}),x(s,{prop:`address`,label:`操作`,align:`center`},{default:m(({row:e})=>[x(a,{type:`primary`,text:``,size:`small`,onClick:t=>N(e)},{default:m(()=>[...t[3]||=[w(`编辑`,-1)]]),_:1},8,[`onClick`]),x(a,{type:`danger`,text:``,size:`small`,onClick:t=>P(e)},{default:m(()=>[...t[4]||=[w(`删除`,-1)]]),_:1},8,[`onClick`])]),_:1})]),_:1},8,[`modelValue`,`search-config`,`table-data-api`])}}});export{j as default};