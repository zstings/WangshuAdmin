import{a as e,c as t,i as n,n as r,o as i,r as a,s as o,t as s,u as c}from"./css-BiNctRkX.js";import{i as l,n as u}from"./css-DzvNTtzy.js";import{Ar as d,Wr as f,Xr as p,Yr as m,_i as h,cr as g,gr as _,hr as v,i as y,lr as b,mi as x,mr as S,n as C,r as w,ti as T,v as E,yr as D}from"./index-Bpu9E_85.js";var O={class:`search-right-btns`},k=_({__name:`Index`,setup(h){let _=p(),k=p({status:``,ip:``}),A=m([{key:`ip`,type:`el-input`,label:`IP地址`},{key:`status`,type:`el-select`,label:`状态`,default:``,options:[{label:`启用`,value:`1`},{label:`停用`,value:`0`}]}]);function j(e={}){let r=m(n({ip:``,remark:``,status:1,id:``},e));s({title:`新增IP黑名单`,formModel:r,content:()=>[D(u,{label:`IP地址`,prop:`ip`,rules:[{required:!0,message:`请输入IP地址`,trigger:[`blur`]}]},()=>[D(l,{modelValue:r.ip,"onUpdate:modelValue":e=>r.ip=e})]),...r.id?[D(u,{label:`状态`,prop:`status`,rules:[{required:!0,message:`请选择状态`,trigger:[`change`]}]},()=>[D(t,{modelValue:r.status,"onUpdate:modelValue":e=>r.status=e},()=>[D(o,{label:`启用`,value:1}),D(o,{label:`停用`,value:0})])])]:[],D(u,{label:`备注`},()=>[D(l,{type:`textarea`,modelValue:r.remark,"onUpdate:modelValue":e=>r.remark=e})])],okBefore:async()=>{await C(r,{showOKMsg:!0}).then(()=>{_.value?.getData()})}})}function M(t){e.confirm(`确认删除IP[${t.ip}]吗？`,`提示`,{confirmButtonText:`确定`,cancelButtonText:`取消`,type:`warning`}).then(()=>{w(t.id,{showOKMsg:!0}).then(()=>{_.value?.getData()})})}return(e,t)=>{let n=E,o=i,s=c,l=r;return d(),b(l,{ref_key:`appTable`,ref:_,modelValue:k.value,"onUpdate:modelValue":t[1]||=e=>k.value=e,"search-config":A,"table-data-api":T(y),okey:`userManagement`},{"search-right":f(()=>[g(`div`,O,[v(n,{type:`primary`,onClick:t[0]||=e=>j()},{default:f(()=>[...t[2]||=[S(`新增IP黑名单`,-1)]]),_:1})])]),"table-column":f(()=>[v(o,{label:`IP地址`,align:`center`},{default:f(({row:e})=>[S(x(e.ip),1)]),_:1}),v(o,{label:`状态`,align:`center`},{default:f(({row:e})=>[v(s,{type:e.status==1?`success`:`danger`,effect:`plain`,size:`small`},{default:f(()=>[S(x(e.status==1?`启用`:`停用`),1)]),_:2},1032,[`type`])]),_:1}),v(o,{label:`备注`,align:`center`},{default:f(({row:e})=>[S(x(e.remark||`--`),1)]),_:1}),v(o,{label:`创建时间`,align:`center`},{default:f(({row:e})=>[S(x(T(a)(e.createAt)),1)]),_:1}),v(o,{label:`更新时间`,align:`center`},{default:f(({row:e})=>[S(x(e.updateAt?T(a)(e.updateAt):`--`),1)]),_:1}),v(o,{prop:`address`,label:`操作`,align:`center`},{default:f(({row:e})=>[v(n,{type:`primary`,text:``,size:`small`,onClick:t=>j(e)},{default:f(()=>[...t[3]||=[S(`编辑`,-1)]]),_:1},8,[`onClick`]),v(n,{type:`danger`,text:``,size:`small`,onClick:t=>M(e)},{default:f(()=>[...t[4]||=[S(`删除`,-1)]]),_:1},8,[`onClick`])]),_:1})]),_:1},8,[`modelValue`,`search-config`,`table-data-api`])}}});export{k as default};