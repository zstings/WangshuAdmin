import{a as e,i as t,n,o as r,r as i,t as a}from"./css-B8J1eoCL.js";import{i as o,n as s}from"./css-DrH5-9Qn.js";import{a as c,i as l,n as u,r as d,t as f}from"./company-CnUUlf24.js";import{Gr as p,Tr as m,Wr as h,Xr as g,_,at as v,dr as y,fi as b,ir as x,li as S,lr as C,mr as w,rr as T,ur as E,zr as D}from"./index-CD0g0H5z.js";var O={class:`search-right-btns`},k={class:`flex-center`},A={class:`whitespace-break-spaces`},j=y({__name:`Index`,setup(y){let b=p(),j=p({name:``}),M=h([{key:`name`,type:`el-input`,label:`企业名称`}]);function N(e={}){let n=h(t({name:``,remark:``,id:``},e));a({title:`新增企业`,formModel:n,content:()=>[w(s,{label:`企业名称`,prop:`name`,rules:[{required:!0,message:`请输入企业名称`,trigger:[`blur`]}]},()=>[w(o,{modelValue:n.name,"onUpdate:modelValue":e=>n.name=e})]),w(s,{label:`备注`},()=>[w(o,{type:`textarea`,modelValue:n.remark,"onUpdate:modelValue":e=>n.remark=e})])],okBefore:async()=>{await f(n,{showOKMsg:!0}).then(()=>{b.value?.getData()})}})}function P(t){e.confirm(`确认删除企业[${t.companyName}]吗？`,`提示`,{confirmButtonText:`确定`,cancelButtonText:`取消`,type:`warning`}).then(()=>{u(t.id,{showOKMsg:!0}).then(()=>{b.value?.getData()})})}function F(e={}){let n=h(t({name:``,id:``},e));a({title:`修改企业名称`,formModel:n,content:()=>[w(s,{label:`企业名称`,prop:`name`,rules:[{required:!0,message:`请输入企业名称`,trigger:[`blur`]}]},()=>[w(o,{modelValue:n.name,"onUpdate:modelValue":e=>n.name=e})])],okBefore:async()=>{await l(n,{showOKMsg:!0}).then(()=>{e.name=n.name})}})}return(e,t)=>{let a=_,o=c,s=r,l=n;return m(),x(l,{ref_key:`appTable`,ref:b,modelValue:j.value,"onUpdate:modelValue":t[1]||=e=>j.value=e,"search-config":M,"table-data-api":g(d),okey:`userManagement`},{"search-right":D(()=>[T(`div`,O,[E(a,{type:`primary`,onClick:t[0]||=e=>N()},{default:D(()=>[...t[2]||=[C(`新增企业`,-1)]]),_:1})])]),"table-column":D(()=>[E(s,{label:`企业名称`,align:`center`},{default:D(({row:e})=>[T(`div`,k,[T(`span`,null,S(e.name),1),E(o,{icon:g(v),tip:`修改企业名称`,onClick:t=>F(e)},null,8,[`icon`,`onClick`])])]),_:1}),E(s,{label:`备注`,align:`center`},{default:D(({row:e})=>[T(`span`,A,S(e.remark||`--`),1)]),_:1}),E(s,{label:`创建时间`,align:`center`},{default:D(({row:e})=>[C(S(g(i)(e.createAt)),1)]),_:1}),E(s,{label:`更新时间`,align:`center`},{default:D(({row:e})=>[C(S(e.updateAt?g(i)(e.updateAt):`--`),1)]),_:1}),E(s,{prop:`address`,label:`操作`,align:`center`},{default:D(({row:e})=>[E(a,{type:`primary`,text:``,size:`small`,onClick:t=>N(e)},{default:D(()=>[...t[3]||=[C(`编辑`,-1)]]),_:1},8,[`onClick`]),E(a,{type:`danger`,text:``,size:`small`,onClick:t=>P(e)},{default:D(()=>[...t[4]||=[C(`删除`,-1)]]),_:1},8,[`onClick`])]),_:1})]),_:1},8,[`modelValue`,`search-config`,`table-data-api`])}}});export{j as default};