import{i as e,n as t,r as n,t as r}from"./css-DrH5-9Qn.js";import{Gr as i,Qn as a,Tr as o,Xr as s,_ as c,a as l,c as u,cr as d,ct as f,d as p,dr as m,fi as h,l as g,lr as _,or as v,rr as y,t as b,tr as x,ur as S,ut as C,zr as w}from"./index-CD0g0H5z.js";var T={class:`fixed top-1/2 left-1/2 h-fit w-[500px] -translate-x-1/2 -translate-y-1/2 rounded-2xl bg-white p-8`},E=b(m({__name:`Index`,setup(u){localStorage.removeItem(`token`);let m=i(!0),h=g(),b=i({username:``,password:``});if(m.value&&localStorage.getItem(`loginInfo`)){let e=JSON.parse(localStorage.getItem(`loginInfo`)||`{}`);Object.assign(b.value,e)}let E=async()=>{if(!b.value.username){p.error(`请输入账号`);return}if(!b.value.password){p.error(`请输入密码`);return}m.value&&localStorage.setItem(`loginInfo`,JSON.stringify(b.value)),l(b.value).then(e=>{localStorage.setItem(`token`,e.token),h.push({name:h.currentRoute.value.query.redirect||`home`})})},D=()=>{m.value||localStorage.removeItem(`loginInfo`)};return(i,l)=>{let u=e,p=t,h=n,g=c,O=r;return o(),v(x,null,[y(`section`,T,[l[5]||=y(`h1`,{class:`h1 mb-10 w-full text-left text-2xl font-medium`},`登录`,-1),S(O,{model:b.value,"label-width":`auto`,class:`w-full`,size:`large`},{default:w(()=>[S(p,{label:``},{default:w(()=>[S(u,{modelValue:b.value.username,"onUpdate:modelValue":l[0]||=e=>b.value.username=e,clearable:``,"prefix-icon":s(C),placeholder:`请输入账号`},null,8,[`modelValue`,`prefix-icon`])]),_:1}),S(p,{label:``},{default:w(()=>[S(u,{modelValue:b.value.password,"onUpdate:modelValue":l[1]||=e=>b.value.password=e,clearable:``,"show-password":``,"prefix-icon":s(f),type:`password`,placeholder:`请输入密码`,onKeyup:a(E,[`enter`])},null,8,[`modelValue`,`prefix-icon`])]),_:1}),S(p,{label:``},{default:w(()=>[S(h,{modelValue:m.value,"onUpdate:modelValue":l[2]||=e=>m.value=e,name:`type`,onChange:D},{default:w(()=>[...l[3]||=[_(` 记住密码 `,-1)]]),_:1},8,[`modelValue`])]),_:1}),S(p,null,{default:w(()=>[S(g,{type:`primary`,class:`w-full`,onClick:E},{default:w(()=>[...l[4]||=[_(`登录`,-1)]]),_:1})]),_:1})]),_:1},8,[`model`])]),l[6]||=d(`<div class="logo-bg fixed top-0 left-0 h-full w-full" data-v-6ea3646e></div><div class="fixed top-[2vh] left-[1vw] flex items-center" data-v-6ea3646e><div class="w-[30px]" data-v-6ea3646e><img src="`+new URL(`../logo.svg`,import.meta.url).href+`" alt="" data-v-6ea3646e></div><span class="ml-2" data-v-6ea3646e>WangshuAdmin</span></div>`,2)],64)}}}),[[`__scopeId`,`data-v-6ea3646e`]]);export{E as default};